<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fishp Server - ç²¾å“ Minecraft æœåŠ¡å™¨</title>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Minecraft:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Minecraft', Arial, sans-serif;
            background: linear-gradient(135deg, #2c5530, #1a3d1f);
            background-attachment: fixed;
            color: #fff;
            min-height: 100vh;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40' viewBox='0 0 40 40'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            z-index: -1;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* é€šç”¨æ ·å¼ */
        header {
            text-align: center;
            padding: 40px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 30px;
            border: 3px solid #4CAF50;
            box-shadow: 0 0 30px rgba(76, 175, 80, 0.3);
        }
        
        .server-title {
            font-size: 3rem;
            color: #4CAF50;
            text-shadow: 3px 3px 0px #2E7D32;
            margin-bottom: 15px;
            letter-spacing: 2px;
        }
        
        .server-subtitle {
            font-size: 1.3rem;
            color: #81C784;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .server-description {
            font-size: 1.1rem;
            color: #C8E6C9;
            margin: 15px auto;
            max-width: 800px;
            line-height: 1.6;
        }
        
        .server-address {
            font-size: 1.5rem;
            background: rgba(76, 175, 80, 0.2);
            padding: 15px 30px;
            border-radius: 25px;
            border: 2px solid #4CAF50;
            display: inline-block;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: all;
            position: relative;
        }
        
        .server-address:hover {
            background: rgba(76, 175, 80, 0.3);
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.4);
        }
        
        .copy-tooltip {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(76, 175, 80, 0.9);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1000;
        }
        
        .copy-tooltip.show {
            opacity: 1;
        }
        
        .copy-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: rgba(76, 175, 80, 0.9);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .panel {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #4CAF50;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.2);
        }
        
        .panel h2 {
            color: #4CAF50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 0px #2E7D32;
        }
        
        /* å›¾è¡¨å®¹å™¨æ ·å¼ */
        .chart-container {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #4CAF50;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
        }
        
        .chart-container h3 {
            color: #4CAF50;
            font-size: 1.5rem;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 0px #2E7D32;
        }
        
        .chart-wrapper {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .status-item {
            background: rgba(76, 175, 80, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #4CAF50;
        }
        
        .status-label {
            font-size: 0.9rem;
            color: #81C784;
            margin-bottom: 5px;
        }
        
        .status-value {
            font-size: 1.5rem;
            color: #4CAF50;
            font-weight: bold;
        }
        
        .detailed-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .detail-item {
            background: rgba(33, 150, 243, 0.1);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #2196F3;
            text-align: center;
        }
        
        .detail-label {
            font-size: 0.8rem;
            color: #81C784;
            margin-bottom: 8px;
            text-transform: uppercase;
        }
        
        .detail-value {
            font-size: 1.1rem;
            color: #2196F3;
            font-weight: bold;
            word-break: break-all;
        }
        
        /* çŠ¶æ€é¢œè‰²æ ·å¼ */
        .loading { color: #FFC107; }
        .online { color: #4CAF50; }
        .offline { color: #F44336; }
        .warning { color: #FF9800; }
        .excellent { color: #4CAF50; }
        .good { color: #8BC34A; }
        .fair { color: #FFC107; }
        .poor { color: #FF9800; }
        .terrible { color: #F44336; }
        
        .refresh-btn {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            margin: 5px;
            transition: background 0.3s ease;
        }
        
        .refresh-btn:hover {
            background: #45a049;
        }
        
        .refresh-btn:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        .player-list {
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
        }
        
        .player-item {
            background: rgba(76, 175, 80, 0.1);
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 15px;
            border: 1px solid rgba(76, 175, 80, 0.3);
            transition: all 0.3s ease;
        }
        
        .player-item:hover {
            background: rgba(76, 175, 80, 0.2);
            transform: translateX(5px);
        }
        
        .player-avatar {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            border: 2px solid #4CAF50;
            background: #2E7D32;
            flex-shrink: 0;
        }
        
        .player-info {
            flex-grow: 1;
        }
        
        .player-name {
            font-size: 1.1rem;
            color: #4CAF50;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .player-uuid {
            font-size: 0.8rem;
            color: #81C784;
            font-family: 'Courier New', monospace;
            word-break: break-all;
        }
        
        .connection-info {
            background: rgba(33, 150, 243, 0.1);
            border: 1px solid #2196F3;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9rem;
            color: #81C784;
        }
        
        .connection-info h5 {
            color: #2196F3;
            margin-bottom: 8px;
        }
        
        .ping-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .ping-method {
            background: rgba(76, 175, 80, 0.1);
            padding: 10px;
            border-radius: 5px;
            border: 1px solid rgba(76, 175, 80, 0.3);
            text-align: center;
        }
        
        /* ç‰¹è‰²æ¨¡ç»„å’Œèµ„æºåŒ…æ ·å¼ */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .feature-item {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .feature-item:hover {
            background: rgba(76, 175, 80, 0.2);
            border-color: #4CAF50;
            transform: translateY(-3px);
        }
        
        .feature-name {
            font-size: 1.2rem;
            color: #4CAF50;
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .feature-description {
            color: #A5D6A7;
            line-height: 1.5;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }
        
        .feature-tag {
            display: inline-block;
            background: rgba(33, 150, 243, 0.2);
            color: #2196F3;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 5px;
        }
        
        /* Minecraft æ ¼å¼åŒ–ä»£ç æ”¯æŒ */
        @keyframes minecraft-obfuscated {
            0% { opacity: 1; }
            25% { opacity: 0.3; }
            50% { opacity: 0.1; }
            75% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .minecraft-obfuscated {
            animation: minecraft-obfuscated 0.15s infinite;
        }
        
        /* MOTD æ˜¾ç¤ºåŒºåŸŸä¼˜åŒ– */
        #motd {
            line-height: 1.8;
            font-family: 'Minecraft', 'Courier New', monospace;
            text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5);
            font-size: 1rem;
        }
        
        #motd span {
            text-shadow: inherit;
        }
        
        .feature-highlight {
            background: linear-gradient(45deg, rgba(76, 175, 80, 0.2), rgba(129, 199, 132, 0.1));
            border: 2px solid #4CAF50;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .feature-highlight h4 {
            color: #4CAF50;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .feature-highlight p {
            line-height: 1.5;
            margin-bottom: 10px;
        }
        
        .rules-highlight {
            background: linear-gradient(45deg, rgba(255, 193, 7, 0.2), rgba(255, 235, 59, 0.1));
            border: 2px solid #FFC107;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .rules-highlight h4 {
            color: #FFC107;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .rules-list {
            list-style: none;
            padding: 0;
        }
        
        .rules-list li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
            line-height: 1.5;
        }
        
        .rules-list li::before {
            content: "âš ï¸";
            position: absolute;
            left: 0;
            color: #FFC107;
        }
        
        @media (max-width: 768px) {
            .main-content, .charts-grid, .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .server-title {
                font-size: 2rem;
            }
            
            .status-grid, .detailed-info-grid {
                grid-template-columns: 1fr;
            }
            
            .player-item {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }
            
            .ping-methods {
                grid-template-columns: 1fr;
            }
        }
        
        footer {
            text-align: center;
            padding: 30px;
            color: #81C784;
            border-top: 2px solid #4CAF50;
            margin-top: 40px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="server-title">ğŸŒŸ Fishp Server</h1>
            <p class="server-subtitle">ç²¾å“ Minecraft å¤šäººæ¸¸æˆæœåŠ¡å™¨</p>
            <p class="server-description">
                åŸºäº Fabric 1.21.1 + Fabric Loader 0.16.14 æ„å»ºï¼Œæ±‡èšäº†ç²¾é€‰æ¨¡ç»„çš„å®Œæ•´æ¸¸æˆä½“éªŒã€‚
                æˆ‘ä»¬è‡´åŠ›äºä¸ºç©å®¶æä¾›ç¨³å®šã€ä¸°å¯Œã€åˆ›æ–°çš„ Minecraft ä¸–ç•Œï¼Œ
                èåˆç§‘æŠ€å·¥ä¸šã€æ¢ç´¢å†’é™©ã€ç¾é£Ÿçƒ¹é¥ªã€è§†è§‰ä¼˜åŒ–ç­‰å¤šä¸ªç»´åº¦çš„æ¸¸æˆå†…å®¹ã€‚
            </p>
            <div class="server-address" onclick="copyServerAddress()" title="ç‚¹å‡»å¤åˆ¶æœåŠ¡å™¨åœ°å€">
                ğŸŒ fishp.9666.fun:14522
                <div class="copy-tooltip" id="copyTooltip">ç‚¹å‡»å¤åˆ¶åœ°å€</div>
            </div>
        </header>

        <!-- æœåŠ¡å™¨çŠ¶æ€å›¾è¡¨ -->
        <div class="charts-grid">
            <div class="chart-container">
                <h3>ğŸ“Š æœåŠ¡å™¨å»¶è¿Ÿç›‘æ§</h3>
                <div class="chart-wrapper">
                    <canvas id="pingChart"></canvas>
                </div>
            </div>
            <div class="chart-container">
                <h3>ğŸ‘¥ ç©å®¶åœ¨çº¿è¶‹åŠ¿</h3>
                <div class="chart-wrapper">
                    <canvas id="playerChart"></canvas>
                </div>
            </div>
        </div>

        <!-- æœåŠ¡å™¨çŠ¶æ€å’Œç©å®¶åˆ—è¡¨ -->
        <div class="main-content">
            <div class="panel">
                <h2>ğŸ” æœåŠ¡å™¨å®æ—¶çŠ¶æ€</h2>
                <div class="status-grid">
                    <div class="status-item">
                        <div class="status-label">æœåŠ¡å™¨çŠ¶æ€</div>
                        <div class="status-value" id="server-status">æ£€æŸ¥ä¸­...</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">åœ¨çº¿ç©å®¶</div>
                        <div class="status-value" id="player-count">--/--</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">ç½‘ç»œå»¶è¿Ÿ</div>
                        <div class="status-value" id="ping">-- ms</div>
                    </div>
                    <div class="status-item">
                        <div class="status-label">æ¸¸æˆç‰ˆæœ¬</div>
                        <div class="status-value" id="version">Fabric 1.21.1</div>
                    </div>
                </div>
                
                <div class="detailed-info-grid" id="detailed-info" style="display: none;">
                    <div class="detail-item">
                        <div class="detail-label">åè®®ç‰ˆæœ¬</div>
                        <div class="detail-value" id="protocol-version">--</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">æœåŠ¡å™¨è½¯ä»¶</div>
                        <div class="detail-value" id="server-software">--</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">æœ€å¤§ç©å®¶æ•°</div>
                        <div class="detail-value" id="max-players">--</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">æœåŠ¡å™¨å›¾æ ‡</div>
                        <div class="detail-value" id="server-icon">ğŸ®</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ä¸Šæ¬¡æ›´æ–°</div>
                        <div class="detail-value" id="last-update">--</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">è¿è¡Œæ—¶é—´</div>
                        <div class="detail-value" id="uptime">--</div>
                    </div>
                </div>
                
                <div id="motd" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px;">æ­£åœ¨è·å–æœåŠ¡å™¨ä¿¡æ¯...</div>
                
                <div class="connection-info">
                    <h5>ğŸŒ ç½‘ç»œè¿æ¥çŠ¶æ€</h5>
                    <div id="connection-details">æ­£åœ¨æ£€æµ‹æœåŠ¡å™¨è¿é€šæ€§...</div>
                    <div class="ping-methods" id="ping-methods" style="display: none;">
                        <div class="ping-method">
                            <div style="font-size: 0.8rem; color: #81C784;">APIå»¶è¿Ÿ</div>
                            <div id="main-ping">--ms</div>
                        </div>
                        <div class="ping-method">
                            <div style="font-size: 0.8rem; color: #81C784;">è¿æ¥è´¨é‡</div>
                            <div id="connection-quality">--</div>
                        </div>
                    </div>
                </div>
                
                <button class="refresh-btn" onclick="checkServerStatus()" id="refreshButton">ğŸ”„ åˆ·æ–°çŠ¶æ€</button>
                <button class="refresh-btn" onclick="toggleDetailedInfo()" id="detailButton" style="background: #2196F3;">ğŸ“Š è¯¦ç»†ä¿¡æ¯</button>
            </div>

            <div class="panel">
                <h2>ğŸ‘¥ åœ¨çº¿ç©å®¶åˆ—è¡¨</h2>
                <div id="player-list" class="player-list">
                    <div style="text-align: center; color: #81C784; padding: 20px;">
                        ğŸ”„ æ­£åœ¨è·å–ç©å®¶ä¿¡æ¯...
                    </div>
                </div>
            </div>
        </div>

        <!-- ç²¾é€‰æ¨¡ç»„å±•ç¤º -->
        <div class="panel">
            <h2>ğŸš€ æ ¸å¿ƒç‰¹è‰²æ¨¡ç»„</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-name">ğŸš€ é’  (Sodium)</div>
                    <div class="feature-description">é©å‘½æ€§çš„æ¸²æŸ“ä¼˜åŒ–æ¨¡ç»„ï¼Œç›¸æ¯”åŸç‰ˆå¯æå‡300%ä»¥ä¸Šçš„å¸§ç‡ï¼Œå¤§å¹…æ”¹å–„æ¸¸æˆæ€§èƒ½ã€‚</div>
                    <span class="feature-tag">æ€§èƒ½ä¼˜åŒ–</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">ğŸ” REI ç‰©å“ç®¡ç†å™¨</div>
                    <div class="feature-description">å¼ºå¤§çš„ç‰©å“æœç´¢å’Œé…æ–¹æŸ¥çœ‹ç³»ç»Ÿï¼Œæ”¯æŒæ¨¡ç»„ç‰©å“çš„åˆæˆé…æ–¹æŸ¥è¯¢ã€‚</div>
                    <span class="feature-tag">ç•Œé¢å¢å¼º</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">ğŸ­ ç§‘æŠ€å¤å…´</div>
                    <div class="feature-description">å®Œæ•´çš„ç°ä»£å·¥ä¸šç§‘æŠ€ä½“ç³»ï¼Œä»ç®€å•çš„å‘ç”µæœºåˆ°å¤æ‚çš„æ ¸ååº”å †ã€‚</div>
                    <span class="feature-tag">ç§‘æŠ€å·¥ä¸š</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">ğŸ¤ ç®€å•è¯­éŸ³èŠå¤©</div>
                    <div class="feature-description">é«˜è´¨é‡çš„3Dè¯­éŸ³é€šè®¯ç³»ç»Ÿï¼Œæ”¯æŒè·ç¦»è¡°å‡ã€éŸ³é‡æ§åˆ¶å’Œé¢‘é“åŠŸèƒ½ã€‚</div>
                    <span class="feature-tag">ç¤¾äº¤é€šè®¯</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">ğŸ‘¨â€ğŸ³ å†œå¤«ä¹äº‹ï¼šé‡ç»‡</div>
                    <div class="feature-description">æ ¸å¿ƒçƒ¹é¥ªç³»ç»Ÿï¼Œæ–°å¢å„ç§å¨å…·å’Œçƒ¹é¥ªæœºåˆ¶ï¼Œè®©é£Ÿç‰©åˆ¶ä½œæ›´æœ‰è¶£ã€‚</div>
                    <span class="feature-tag">ç¾é£Ÿçƒ¹é¥ª</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">âŒ¨ï¸ æ¸¸æˆå†…è¾“å…¥æ³•</div>
                    <div class="feature-description">å¢å¼ºç‰ˆä¸­æ–‡è¾“å…¥æ³•æ”¯æŒï¼Œå®Œç¾å…¼å®¹å„ç§è¾“å…¥æ³•ï¼Œæ”¯æŒå€™é€‰è¯æ˜¾ç¤ºã€‚</div>
                    <span class="feature-tag">ä¸­æ–‡åŒ–</span>
                </div>
            </div>
        </div>

        <!-- ç²¾é€‰èµ„æºåŒ…å±•ç¤º -->
        <div class="panel">
            <h2>ğŸ¨ ç²¾é€‰èµ„æºåŒ…</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-name">â›ï¸ çŸ¿ç‰©å‘å…‰</div>
                    <div class="feature-description">ä¸ºæ‰€æœ‰çŸ¿ç‰©æ·»åŠ å‘å…‰è¾¹æ¡†æ•ˆæœï¼Œè®©çŸ¿ç‰©åœ¨é»‘æš—ä¸­æ›´å®¹æ˜“è¢«å‘ç°ã€‚æ”¯æŒåŸç‰ˆå’Œæ¨¡ç»„çŸ¿ç‰©ã€‚</div>
                    <span class="feature-tag">åŠŸèƒ½å¢å¼º</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">ğŸ’ Faithful 64x</div>
                    <div class="feature-description">é«˜æ¸…åŸç‰ˆé£æ ¼èµ„æºåŒ…ï¼Œå°†åŸç‰ˆ16x16çº¹ç†æå‡åˆ°64x64åˆ†è¾¨ç‡ï¼Œä¿æŒåŸç‰ˆç¾æœ¯é£æ ¼ã€‚</div>
                    <span class="feature-tag">è§†è§‰ç¾åŒ–</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">ğŸŒ™ åŸç‰ˆæ·±è‰²æ¨¡å¼â…¢</div>
                    <div class="feature-description">æŠ¤çœ¼çš„æ·±è‰²ä¸»é¢˜ç•Œé¢ï¼Œé‡æ–°è®¾è®¡æ‰€æœ‰GUIç•Œé¢ä¸ºæ·±è‰²é…è‰²æ–¹æ¡ˆï¼Œå‡å°‘çœ¼éƒ¨ç–²åŠ³ã€‚</div>
                    <span class="feature-tag">ç•Œé¢ä¼˜åŒ–</span>
                </div>
                <div class="feature-item">
                    <div class="feature-name">ğŸ¬ å®£ä¼ ç‰‡é£æ ¼</div>
                    <div class="feature-description">ç®€çº¦ç°ä»£è®¾è®¡é£æ ¼ï¼Œæ¨¡ä»¿æ¸¸æˆå®£ä¼ ç‰‡çš„ç¾æœ¯é£æ ¼ï¼Œé€‚åˆå»ºç­‘å’Œæ‘„å½±ã€‚</div>
                    <span class="feature-tag">ç‰¹è‰²é£æ ¼</span>
                </div>
            </div>
        </div>

        <!-- æœåŠ¡å™¨è§„åˆ™ -->
        <div class="main-content">
            <div class="panel">
                <h2>ğŸ“‹ æœåŠ¡å™¨è§„åˆ™ä¸è¦æ±‚</h2>
                <div class="rules-highlight">
                    <h4>âš–ï¸ åŸºæœ¬è§„åˆ™</h4>
                    <ul class="rules-list">
                        <li><strong>æ­£ç‰ˆéªŒè¯</strong> - æœåŠ¡å™¨å¯ç”¨æ­£ç‰ˆéªŒè¯ï¼Œä»…å…è®¸æ­£ç‰ˆ Minecraft ç©å®¶è¿›å…¥</li>
                        <li><strong>ç¦æ­¢ä½œå¼Š</strong> - ä¸¥ç¦ä½¿ç”¨ä»»ä½•å½¢å¼çš„ä½œå¼Šå·¥å…·ã€å¤–æŒ‚æˆ–æ¶æ„æ¨¡ç»„</li>
                        <li><strong>ç»´æŠ¤å¹³è¡¡</strong> - ç¦æ­¢æ¶æ„ç ´åæ¸¸æˆå¹³è¡¡ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºåˆ·ç‰©å“ã€å¡BUGç­‰è¡Œä¸º</li>
                    </ul>
                </div>
            </div>

            <div class="panel">
                <h2>ğŸ¤ ç¤¾åŒºè§„èŒƒ</h2>
                <div class="rules-highlight">
                    <h4>ğŸ‘¥ è¡Œä¸ºå‡†åˆ™</h4>
                    <ul class="rules-list">
                        <li><strong>å°Šé‡ä»–äºº</strong> - å°Šé‡å…¶ä»–ç©å®¶çš„æ¸¸æˆä½“éªŒï¼Œç¦æ­¢æ¶æ„ç ´åã€å·çªƒæˆ–éªšæ‰°</li>
                        <li><strong>æ–‡æ˜äº¤æµ</strong> - èŠå¤©å†…å®¹åº”æ–‡æ˜å‹å–„ï¼Œç¦æ­¢å‘å¸ƒä¸å½“è¨€è®ºæˆ–å¹¿å‘Šå†…å®¹</li>
                        <li><strong>éµå®ˆæ³•å¾‹</strong> - ä¸¥ç¦åœ¨æœåŠ¡å™¨å†…è¿›è¡Œä»»ä½•è¿æ³•è¿è§„æ´»åŠ¨</li>
                    </ul>
                </div>
                <p style="color: #FFE082; font-style: italic; margin-top: 15px;">
                    è¿åè§„åˆ™å°†æ ¹æ®æƒ…èŠ‚ä¸¥é‡ç¨‹åº¦ç»™äºˆè­¦å‘Šã€ä¸´æ—¶å°ç¦æˆ–æ°¸ä¹…å°ç¦å¤„ç†ã€‚
                </p>
            </div>
        </div>

        <!-- æœåŠ¡å™¨ä»‹ç» -->
        <div class="main-content">
            <div class="panel">
                <h2>ğŸ® é€‰æ‹©æˆ‘ä»¬çš„ç†ç”±</h2>
                <div class="feature-highlight">
                    <h4>ğŸ”§ ç²¾å¿ƒä¼˜åŒ–çš„æ€§èƒ½</h4>
                    <p>é‡‡ç”¨ Sodium æ¸²æŸ“å¼•æ“å’Œå¤šé¡¹æ€§èƒ½ä¼˜åŒ–æ¨¡ç»„ï¼Œç¡®ä¿æµç•…çš„æ¸¸æˆä½“éªŒã€‚å³ä½¿åœ¨å¤§å‹å»ºç­‘ç¾¤å’Œå¤æ‚å·¥ä¸šåŒºåŸŸä¹Ÿèƒ½ä¿æŒç¨³å®šå¸§ç‡ã€‚</p>
                </div>
                <div class="feature-highlight">
                    <h4>ğŸŒ ä¸°å¯Œçš„å†…å®¹ä½“éªŒ</h4>
                    <p>ä»ç§‘æŠ€å·¥ä¸šåˆ°é­”æ³•æ¢ç´¢ï¼Œä»ç¾é£Ÿçƒ¹é¥ªåˆ°å»ºç­‘è£…é¥°ï¼Œç²¾é€‰æ¨¡ç»„ä¸ºä½ æ‰“é€ ä¸€ä¸ªå†…å®¹ä¸°å¯Œã€æ°¸è¿œä¸ä¼šæ— èŠçš„ Minecraft ä¸–ç•Œã€‚</p>
                </div>
            </div>

            <div class="panel">
                <h2>ğŸŒŸ æœåŠ¡å™¨ç‰¹è‰²</h2>
                <div class="feature-highlight">
                    <h4>ğŸ‘¥ å‹å¥½çš„ç¤¾åŒºç¯å¢ƒ</h4>
                    <p>å†…ç½®è¯­éŸ³èŠå¤©ç³»ç»Ÿï¼Œæ”¯æŒä¸­æ–‡ä¼˜åŒ–ï¼Œå®Œå–„çš„ç”¨æˆ·ç•Œé¢è®¾è®¡ï¼Œè®©æ–°è€ç©å®¶éƒ½èƒ½å¿«é€Ÿèå…¥æ¸¸æˆï¼Œäº«å—å¤šäººåä½œçš„ä¹è¶£ã€‚</p>
                </div>
                <div class="feature-highlight">
                    <h4>ğŸ¨ è§†è§‰ç››å®´</h4>
                    <p>é¢„è£…å¤šå¥—ç²¾ç¾èµ„æºåŒ…ï¼Œä»æ¸…æ–°è‡ªç„¶åˆ°ç§‘å¹»æœªæ¥ï¼Œä»ç®€çº¦ç°ä»£åˆ°æ€€æ—§ç»å…¸ï¼Œæ€»æœ‰ä¸€æ¬¾ç¬¦åˆä½ çš„å®¡ç¾å“å‘³ã€‚</p>
                </div>
            </div>
        </div>

        <footer>
            <p>ğŸ® Fishp Server - æ‰“é€ å±äºä½ çš„å®Œç¾ Minecraft ä¸–ç•Œ</p>
            <p>âš¡ åŸºäº Fabric 1.21.1 + Fabric Loader 0.16.14 â€¢ ğŸŒŸ ç²¾é€‰æ¨¡ç»„ä½“éªŒ â€¢ ğŸ¨ å¤šå¥—ä¸»é¢˜èµ„æºåŒ…</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">æŒç»­æ›´æ–°ä¼˜åŒ– | ç¨³å®šè¿è¡Œä¿éšœ | ç¤¾åŒºå‹å¥½ç¯å¢ƒ | æ­£ç‰ˆéªŒè¯ä¿æŠ¤</p>
        </footer>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let pingChart, playerChart;
        let pingHistory = [];
        let playerHistory = [];
        
        // æœåŠ¡å™¨é…ç½®
        const SERVER_CONFIG = {
            host: 'fishp.9666.fun',
            port: 14522,
            fullAddress: 'fishp.9666.fun:14522'
        };

        // æ›´æ–°çš„APIç«¯ç‚¹é…ç½®
        const API_ENDPOINT = 'https://list.mczfw.cn/api/fishp.9666.fun:14522';

        let detailsVisible = false;

        // å»¶è¿Ÿç­‰çº§è¯„ä¼°
        function getPingQuality(ping) {
            if (ping < 50) return { level: 'excellent', text: 'æä½³', color: '#4CAF50' };
            if (ping < 100) return { level: 'good', text: 'è‰¯å¥½', color: '#8BC34A' };
            if (ping < 200) return { level: 'fair', text: 'ä¸€èˆ¬', color: '#FFC107' };
            if (ping < 300) return { level: 'poor', text: 'è¾ƒå·®', color: '#FF9800' };
            return { level: 'terrible', text: 'å¾ˆå·®', color: '#F44336' };
        }

        // Minecraft æ ¼å¼åŒ–ä»£ç è§£æå‡½æ•°
        function parseMinecraftFormatting(text) {
            if (!text) return '';
            
            const colorCodes = {
                '0': '#000000', '1': '#0000AA', '2': '#00AA00', '3': '#00AAAA',
                '4': '#AA0000', '5': '#AA00AA', '6': '#FFAA00', '7': '#AAAAAA',
                '8': '#555555', '9': '#5555FF', 'a': '#55FF55', 'b': '#55FFFF',
                'c': '#FF5555', 'd': '#FF55FF', 'e': '#FFFF55', 'f': '#FFFFFF'
            };
            
            let result = '';
            let currentColor = '#FFFFFF';
            
            text = text.replace(/Â§/g, '&');
            const parts = text.split('&');
            result += escapeHtml(parts[0]);
            
            for (let i = 1; i < parts.length; i++) {
                if (parts[i].length === 0) continue;
                
                const code = parts[i][0].toLowerCase();
                const content = escapeHtml(parts[i].substring(1));
                
                if (colorCodes[code]) {
                    currentColor = colorCodes[code];
                    if (content) {
                        result += `<span style="color: ${currentColor};">${content}</span>`;
                    }
                } else {
                    result += '&' + parts[i];
                }
            }
            
            return result;
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // åˆ‡æ¢è¯¦ç»†ä¿¡æ¯æ˜¾ç¤º
        function toggleDetailedInfo() {
            const detailedInfo = document.getElementById('detailed-info');
            const detailButton = document.getElementById('detailButton');
            
            detailsVisible = !detailsVisible;
            
            if (detailsVisible) {
                detailedInfo.style.display = 'grid';
                detailButton.textContent = 'ğŸ“Š éšè—è¯¦æƒ…';
            } else {
                detailedInfo.style.display = 'none';
                detailButton.textContent = 'ğŸ“Š è¯¦ç»†ä¿¡æ¯';
            }
        }

        // ä¼˜åŒ–çš„å»¶è¿Ÿæ£€æµ‹å’ŒæœåŠ¡å™¨çŠ¶æ€æ£€æŸ¥
        async function checkServerStatus() {
            const statusElement = document.getElementById('server-status');
            const playerCountElement = document.getElementById('player-count');
            const pingElement = document.getElementById('ping');
            const versionElement = document.getElementById('version');
            const motdElement = document.getElementById('motd');
            const playerListElement = document.getElementById('player-list');
            const connectionDetails = document.getElementById('connection-details');
            const refreshButton = document.getElementById('refreshButton');
            const pingMethods = document.getElementById('ping-methods');
            
            // è¯¦ç»†ä¿¡æ¯å…ƒç´ 
            const protocolVersionElement = document.getElementById('protocol-version');
            const serverSoftwareElement = document.getElementById('server-software');
            const maxPlayersElement = document.getElementById('max-players');
            const serverIconElement = document.getElementById('server-icon');
            const lastUpdateElement = document.getElementById('last-update');
            const uptimeElement = document.getElementById('uptime');
            
            // å»¶è¿Ÿæ˜¾ç¤ºå…ƒç´ 
            const mainPing = document.getElementById('main-ping');
            const connectionQuality = document.getElementById('connection-quality');
            
            // ç¦ç”¨åˆ·æ–°æŒ‰é’®
            refreshButton.disabled = true;
            refreshButton.textContent = 'ğŸ”„ æ£€æµ‹ä¸­...';
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            statusElement.innerHTML = '<span class="loading">ğŸ”„ æ­£åœ¨æ£€æµ‹...</span>';
            playerCountElement.textContent = '--/--';
            pingElement.innerHTML = '<span class="loading">æµ‹è¯•ä¸­...</span>';
            motdElement.innerHTML = 'æ­£åœ¨è·å–æœåŠ¡å™¨çŠ¶æ€ä¿¡æ¯...';
            playerListElement.innerHTML = '<div style="text-align: center; color: #81C784; padding: 20px;">ğŸ”„ æ­£åœ¨è·å–ç©å®¶ä¿¡æ¯...</div>';
            connectionDetails.innerHTML = 'æ­£åœ¨è¿›è¡Œç½‘ç»œè¿æ¥æµ‹è¯•...';
            
            try {
                const start = performance.now();
                const response = await Promise.race([
                    fetch(API_ENDPOINT, {
                        method: 'GET',
                        cache: 'no-cache'
                    }),
                    new Promise((_, reject) => 
                        setTimeout(() => reject(new Error('Timeout')), 5000)
                    )
                ]);
                const end = performance.now();
                const responseTime = Math.round(end - start);
                
                if (response.ok) {
                    const data = await response.json();
                    const pingQuality = getPingQuality(responseTime);
                    
                    // æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦åœ¨çº¿
                    if (data.online || data.status === 'online') {
                        // æœåŠ¡å™¨åœ¨çº¿
                        statusElement.innerHTML = '<span class="online">ğŸŸ¢ åœ¨çº¿è¿è¡Œ</span>';
                        
                        // å¤„ç†ç©å®¶æ•°æ®
                        const onlineCount = data.players || data.player_count || data.online_players || 0;
                        const maxCount = data.max_players || data.player_max || '?';
                        playerCountElement.innerHTML = `<span class="online">${onlineCount}/${maxCount}</span>`;
                        if (maxPlayersElement) maxPlayersElement.textContent = maxCount;
                        
                        // æ›´æ–°ç©å®¶å†å²æ•°æ®
                        updatePlayerHistory(onlineCount);
                        
                        pingElement.innerHTML = `<span class="${pingQuality.level}">${responseTime} ms</span>`;
                        
                        // æ›´æ–°å»¶è¿Ÿå†å²æ•°æ®
                        updatePingHistory(responseTime);
                        
                        // æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯
                        if (data.version) {
                            versionElement.textContent = data.version;
                            if (protocolVersionElement) protocolVersionElement.textContent = data.protocol || 'æœªçŸ¥';
                        }
                        
                        // æ˜¾ç¤ºè½¯ä»¶ä¿¡æ¯
                        if (serverSoftwareElement) serverSoftwareElement.textContent = data.software || 'Fabric Server';
                        
                        // æ˜¾ç¤ºæ ¼å¼åŒ–çš„MOTD
                        if (data.motd) {
                            let motdHtml = '<strong style="color: #4CAF50;">ğŸ“¢ æœåŠ¡å™¨ä¿¡æ¯:</strong><br>';
                            motdHtml += parseMinecraftFormatting(data.motd);
                            motdElement.innerHTML = motdHtml;
                        } else {
                            motdElement.innerHTML = '<strong style="color: #4CAF50;">ğŸ“¢ æœåŠ¡å™¨ä¿¡æ¯:</strong><br><span style="color: #81C784;">æ¬¢è¿æ¥åˆ° Fishp Serverï¼æ­£ç‰ˆéªŒè¯æœåŠ¡å™¨ï¼ŒæœŸå¾…ä½ çš„åŠ å…¥ï¼</span>';
                        }
                        
                        // æ˜¾ç¤ºæœåŠ¡å™¨å›¾æ ‡
                        if (serverIconElement && data.icon) {
                            serverIconElement.innerHTML = `<img src="${data.icon}" style="width: 32px; height: 32px; border-radius: 4px;">`;
                        } else if (serverIconElement) {
                            serverIconElement.textContent = 'ğŸ®';
                        }
                        
                        // æ˜¾ç¤ºæ›´æ–°æ—¶é—´
                        if (lastUpdateElement) lastUpdateElement.textContent = new Date().toLocaleTimeString('zh-CN');
                        
                        // æ˜¾ç¤ºè¿è¡Œæ—¶é—´
                        if (uptimeElement) {
                            uptimeElement.textContent = data.uptime || 'æœªçŸ¥';
                        }
                        
                        // æ˜¾ç¤ºç©å®¶åˆ—è¡¨
                        displayPlayerList(data.player_list || [], playerListElement, onlineCount);
                        
                        // æ˜¾ç¤ºè¿æ¥è¯¦æƒ…
                        connectionDetails.innerHTML = `
                            âœ… <strong>æœåŠ¡å™¨åœ¨çº¿</strong> - è¿æ¥æ­£å¸¸<br>
                            ğŸ“ æœåŠ¡å™¨åœ°å€: ${SERVER_CONFIG.fullAddress}<br>
                            âš¡ ç½‘ç»œå»¶è¿Ÿ: ${responseTime}ms (${pingQuality.text})<br>
                            ğŸ•’ æ£€æµ‹æ—¶é—´: ${new Date().toLocaleTimeString('zh-CN')}<br>
                            ğŸ“Š <small>è¿æ¥è´¨é‡: ${pingQuality.text}</small>
                        `;
                        
                        // æ˜¾ç¤ºè¯¦ç»†å»¶è¿Ÿä¿¡æ¯
                        pingMethods.style.display = 'grid';
                        mainPing.textContent = `${responseTime}ms`;
                        connectionQuality.innerHTML = `<span style="color: ${pingQuality.color};">${pingQuality.text}</span>`;
                        
                    } else {
                        // æœåŠ¡å™¨ç¦»çº¿
                        throw new Error('Server offline');
                    }
                } else {
                    throw new Error('API request failed');
                }
                
            } catch (error) {
                console.error('æœåŠ¡å™¨çŠ¶æ€æ£€æµ‹å¤±è´¥:', error);
                
                // æœåŠ¡å™¨ç¦»çº¿æˆ–æ— æ³•è¿æ¥
                statusElement.innerHTML = '<span class="offline">ğŸ”´ æœåŠ¡å™¨ç¦»çº¿</span>';
                playerCountElement.innerHTML = '<span class="offline">0/--</span>';
                pingElement.innerHTML = '<span class="offline">æ— å“åº”</span>';
                motdElement.innerHTML = '<strong style="color: #F44336;">âŒ æœåŠ¡å™¨çŠ¶æ€:</strong><br>æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå¯èƒ½æœåŠ¡å™¨ç¦»çº¿æˆ–ç½‘ç»œé—®é¢˜ã€‚';
                
                playerListElement.innerHTML = `
                    <h4 style="color: #F44336; margin-bottom: 15px; text-align: center;">ğŸ”´ æœåŠ¡å™¨ä¸å¯è¾¾</h4>
                    <div style="text-align: center; color: #F44336; padding: 20px;">
                        ğŸ› ï¸ æœåŠ¡å™¨å½“å‰æ— æ³•è¿æ¥<br>
                        <small style="color: #FFAB91;">å¯èƒ½æ­£åœ¨ç»´æŠ¤æˆ–ç½‘ç»œé—®é¢˜ï¼Œè¯·ç¨åå†è¯•</small>
                    </div>
                `;
                
                connectionDetails.innerHTML = `
                    âš ï¸ <strong>è¿æ¥å¤±è´¥</strong> - æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨<br>
                    ğŸ“ ç›®æ ‡åœ°å€: ${SERVER_CONFIG.fullAddress}<br>
                    ğŸ•’ æ£€æµ‹æ—¶é—´: ${new Date().toLocaleTimeString('zh-CN')}<br>
                    ğŸ’¡ <small>å»ºè®®ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜</small>
                `;
                
                pingMethods.style.display = 'none';
            } finally {
                // é‡æ–°å¯ç”¨åˆ·æ–°æŒ‰é’®
                refreshButton.disabled = false;
                refreshButton.textContent = 'ğŸ”„ åˆ·æ–°çŠ¶æ€';
            }
        }

        // æ˜¾ç¤ºç©å®¶åˆ—è¡¨
        function displayPlayerList(playerList, container, onlineCount) {
            if (onlineCount > 0) {
                container.innerHTML = '<h4 style="color: #4CAF50; margin-bottom: 15px; text-align: center;">ğŸ® å½“å‰åœ¨çº¿ç©å®¶</h4>';
                
                if (playerList && playerList.length > 0) {
                    playerList.forEach(playerName => {
                        const playerDiv = document.createElement('div');
                        playerDiv.className = 'player-item';
                        
                        playerDiv.innerHTML = `
                            <img class="player-avatar" 
                                 src="https://minotar.net/avatar/${encodeURIComponent(playerName)}/48" 
                                 alt="${escapeHtml(playerName)}" 
                                 onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjMkU3RDMyIi8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzZaIiBmaWxsPSIjNENBRjUwIi8+PC9wYXRoPjwvc3ZnPg=='">
                            <div class="player-info">
                                <div class="player-name">ğŸ® ${escapeHtml(playerName)}</div>
                                <div class="player-uuid">ğŸ”’ UUID å·²éšè—</div>
                            </div>
                        `;
                        
                        container.appendChild(playerDiv);
                    });
                } else {
                    const noListDiv = document.createElement('div');
                    noListDiv.className = 'player-item';
                    noListDiv.style.textAlign = 'center';
                    noListDiv.innerHTML = `
                        <div style="width: 100%; color: #81C784;">
                            ğŸ”’ å½“å‰æœ‰ ${onlineCount} ä½ç©å®¶åœ¨çº¿<br>
                            <small style="color: #A5D6A7;">ç©å®¶åˆ—è¡¨å·²éšè—ä¿æŠ¤éšç§</small>
                        </div>
                    `;
                    container.appendChild(noListDiv);
                }
            } else {
                container.innerHTML = `
                    <h4 style="color: #4CAF50; margin-bottom: 15px; text-align: center;">ğŸ® å½“å‰åœ¨çº¿ç©å®¶</h4>
                    <div style="text-align: center; color: #81C784; padding: 20px;">
                        ğŸ˜´ å½“å‰æ²¡æœ‰ç©å®¶åœ¨çº¿<br>
                        <small style="color: #A5D6A7;">å¿«æ¥æˆä¸ºç¬¬ä¸€ä¸ªåŠ å…¥çš„ç©å®¶å§ï¼</small>
                    </div>
                `;
            }
        }

        // å¤åˆ¶æœåŠ¡å™¨åœ°å€åŠŸèƒ½
        function copyServerAddress() {
            const address = SERVER_CONFIG.fullAddress;
            const tooltip = document.getElementById('copyTooltip');
            
            navigator.clipboard.writeText(address).then(() => {
                tooltip.textContent = "âœ… å·²å¤åˆ¶ï¼";
                tooltip.classList.add('show');
                
                setTimeout(() => {
                    tooltip.classList.remove('show');
                    setTimeout(() => {
                        tooltip.textContent = "ç‚¹å‡»å¤åˆ¶åœ°å€";
                    }, 300);
                }, 2000);
            }).catch(() => {
                const textArea = document.createElement("textarea");
                textArea.value = address;
                textArea.style.position = "fixed";
                textArea.style.left = "-999999px";
                textArea.style.top = "-999999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    document.execCommand('copy');
                    tooltip.textContent = "âœ… å·²å¤åˆ¶ï¼";
                } catch (err) {
                    tooltip.textContent = "âŒ å¤åˆ¶å¤±è´¥";
                }
                
                document.body.removeChild(textArea);
                tooltip.classList.add('show');
                
                setTimeout(() => {
                    tooltip.classList.remove('show');
                    setTimeout(() => {
                        tooltip.textContent = "ç‚¹å‡»å¤åˆ¶åœ°å€";
                    }, 300);
                }, 2000);
            });
        }

        // æ›´æ–°å»¶è¿Ÿå†å²æ•°æ®å¹¶åˆ·æ–°å›¾è¡¨
        function updatePingHistory(ping) {
            const now = new Date();
            pingHistory.push({
                time: now.toLocaleTimeString('zh-CN'),
                ping: ping
            });
            
            // ä¿æŒæœ€è¿‘20ä¸ªæ•°æ®ç‚¹
            if (pingHistory.length > 20) {
                pingHistory.shift();
            }
            
            if (pingChart) {
                pingChart.data.labels = pingHistory.map(item => item.time);
                pingChart.data.datasets[0].data = pingHistory.map(item => item.ping);
                pingChart.update();
            }
        }

        // æ›´æ–°ç©å®¶å†å²æ•°æ®å¹¶åˆ·æ–°å›¾è¡¨
        function updatePlayerHistory(playerCount) {
            const now = new Date();
            playerHistory.push({
                time: now.toLocaleTimeString('zh-CN'),
                count: playerCount
            });
            
            // ä¿æŒæœ€è¿‘20ä¸ªæ•°æ®ç‚¹
            if (playerHistory.length > 20) {
                playerHistory.shift();
            }
            
            if (playerChart) {
                playerChart.data.labels = playerHistory.map(item => item.time);
                playerChart.data.datasets[0].data = playerHistory.map(item => item.count);
                playerChart.update();
            }
        }

        // åˆå§‹åŒ–æœåŠ¡å™¨çŠ¶æ€å›¾è¡¨
        function initServerCharts() {
            // å»¶è¿Ÿç›‘æ§å›¾è¡¨
            const pingCtx = document.getElementById('pingChart');
            if (pingCtx) {
                pingChart = new Chart(pingCtx, {
                    type: 'line',
                    data: {
                        labels: [],
                        datasets: [{
                            label: 'å»¶è¿Ÿ (ms)',
                            data: [],
                            borderColor: '#4CAF50',
                            backgroundColor: 'rgba(76, 175, 80, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#C8E6C9'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#81C784',
                                    maxTicksLimit: 6
                                },
                                grid: {
                                    color: 'rgba(129, 199, 132, 0.2)'
                                }
                            },
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    color: '#81C784'
                                },
                                grid: {
                                    color: 'rgba(129, 199, 132, 0.2)'
                                }
                            }
                        }
                    }
                });
            }

            // ç©å®¶åœ¨çº¿è¶‹åŠ¿å›¾è¡¨
            const playerCtx = document.getElementById('playerChart');
            if (playerCtx) {
                playerChart = new Chart(playerCtx, {
                    type: 'line',
                    data: {
                        labels: [],
                        datasets: [{
                            label: 'åœ¨çº¿ç©å®¶æ•°',
                            data: [],
                            borderColor: '#2196F3',
                            backgroundColor: 'rgba(33, 150, 243, 0.1)',
                            borderWidth: 2,
                            fill: true,
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: {
                                    color: '#C8E6C9'
                                }
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    color: '#81C784',
                                    maxTicksLimit: 6
                                },
                                grid: {
                                    color: 'rgba(129, 199, 132, 0.2)'
                                }
                            },
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    color: '#81C784',
                                    stepSize: 1
                                },
                                grid: {
                                    color: 'rgba(129, 199, 132, 0.2)'
                                }
                            }
                        }
                    }
                });
            }
        }

        // æœåŠ¡å™¨åœ°å€æ‚¬åœæç¤º
        function initAddressTooltip() {
            const serverAddress = document.querySelector('.server-address');
            const tooltip = document.getElementById('copyTooltip');
            
            if (serverAddress && tooltip) {
                serverAddress.addEventListener('mouseenter', () => {
                    if (!tooltip.classList.contains('show')) {
                        tooltip.classList.add('show');
                    }
                });
                
                serverAddress.addEventListener('mouseleave', () => {
                    if (tooltip.textContent === "ç‚¹å‡»å¤åˆ¶åœ°å€") {
                        tooltip.classList.remove('show');
                    }
                });
            }
        }

        // åˆå§‹åŒ–æ‰€æœ‰åŠŸèƒ½
        function init() {
            initAddressTooltip();
            initServerCharts();
            
            // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
            checkServerStatus();
            
            // æ¯30ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡çŠ¶æ€
            setInterval(checkServerStatus, 30000);
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>